(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8508],{3661:(e,t,a)=>{Promise.resolve().then(a.bind(a,5955))},5550:(e,t,a)=>{"use strict";a.d(t,{D:()=>o,N:()=>c});var r=a(5155),s=a(2115);let l=(0,s.createContext)();function c(e){let{children:t}=e,[a,c]=(0,s.useState)("dark"),[o,i]=(0,s.useState)(!1);return((0,s.useEffect)(()=>{i(!0)},[]),o)?(0,r.jsx)(l.Provider,{value:{theme:a,toggleTheme:()=>{c("dark"===a?"light":"dark")}},children:t}):null}function o(){let e=(0,s.useContext)(l);if(void 0===e)throw Error("useTheme must be used within a ThemeProvider");return e}},5695:(e,t,a)=>{"use strict";var r=a(8999);a.o(r,"useParams")&&a.d(t,{useParams:function(){return r.useParams}}),a.o(r,"useRouter")&&a.d(t,{useRouter:function(){return r.useRouter}}),a.o(r,"useSearchParams")&&a.d(t,{useSearchParams:function(){return r.useSearchParams}})},5955:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>d});var r=a(5155),s=a(2115),l=a(5695),c=a(6766),o=a(5550);function i(){var e;let{id:t}=(0,l.useParams)(),{theme:a}=(0,o.D)(),i=(0,l.useSearchParams)().get("rooms"),d=(0,l.useRouter)(),[n,x]=(0,s.useState)(null),[h,u]=(0,s.useState)(null),[m,g]=(0,s.useState)(null),[b,f]=(0,s.useState)(!0),[j,v]=(0,s.useState)(""),[k,w]=(0,s.useState)(!0);return((0,s.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/visitor/hotels/".concat(t,"?rooms=").concat(i),{method:"GET",credentials:"include"}),a=await e.json();if(!e.ok)throw Error(a.error);x(a.hotel),u(a.allRooms||[]),g(a.filteredRooms||[])}catch(e){v(e.message||"An unexpected error occurred.")}finally{f(!1)}})()},[t,i]),b)?(0,r.jsx)("div",{className:"flex justify-center items-center h-64 ".concat("dark"===a?"text-white":"text-gray-800"),children:(0,r.jsx)("div",{className:"text-lg font-medium animate-pulse",children:"Loading..."})}):j?(0,r.jsx)("div",{className:"flex justify-center items-center h-64 ".concat("dark"===a?"text-white":"text-gray-800"),children:(0,r.jsxs)("div",{className:"px-6 py-4 rounded-md shadow-md bg-white",children:[(0,r.jsx)("p",{className:"font-semibold text-red-500",children:"Error:"}),(0,r.jsx)("p",{className:"text-red-500",children:j}),(0,r.jsx)("button",{onClick:()=>d.back(),className:"hover:underline cursor-pointer mt-2 text-red-500",children:"Go Back"})]})}):n?(0,r.jsxs)("div",{className:"max-w-5xl mx-auto p-6 rounded-2xl shadow-lg space-y-6 ".concat("dark"===a?"bg-gray-800 text-white":"bg-white text-gray-800"),children:[(0,r.jsxs)("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-3xl font-bold ".concat("dark"===a?"text-white":"text-black"),children:n.name}),(0,r.jsxs)("p",{className:"text-lg ".concat("dark"===a?"text-gray-300":"text-gray-800"),children:[n.starRating," Star"]})]}),n.logo&&(0,r.jsx)(c.default,{src:n.logo,alt:"Hotel Logo",width:128,height:128,className:"w-32 h-32 object-cover rounded-xl border shadow-md ".concat("dark"===a?"border-gray-600":"border-gray-300")})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-xl font-semibold ".concat("dark"===a?"text-white":"text-black"),children:"Location"}),(0,r.jsx)("p",{className:"dark"===a?"text-gray-300":"text-gray-800",children:n.address}),(0,r.jsxs)("p",{className:"dark"===a?"text-gray-300":"text-gray-800",children:[n.city,", ",n.country]})]}),(null===(e=n.images)||void 0===e?void 0:e.length)>0&&(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-xl font-semibold ".concat("dark"===a?"text-white":"text-black"),children:"Photos"}),(0,r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mt-2",children:n.images.map((e,t)=>(0,r.jsx)(c.default,{src:e,alt:"Hotel Image ".concat(t+1),width:2880,height:1624,className:"w-full h-full object-cover rounded-lg shadow-sm"},t))})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-xl font-semibold ".concat("dark"===a?"text-white":"text-black"," mb-2"),children:k?"Filtered Available Rooms":"All Rooms"}),(k?m:h).length>0?(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:(k?m:h).map(e=>(0,r.jsxs)("div",{className:"p-4 border rounded-lg shadow cursor-pointer ".concat("dark"===a?"bg-gray-700 border-gray-600":"bg-white border-gray-300"),onClick:()=>d.push("/ui/dashboard/all-hotels/".concat(t,"/").concat(e.id)),children:[(0,r.jsx)("h3",{className:"text-lg font-bold ".concat("dark"===a?"text-white":"text-black"),children:e.type}),(0,r.jsxs)("p",{className:"dark"===a?"text-gray-300":"text-gray-800",children:["Price: $",e.pricePerNight," per night"]}),(0,r.jsx)("p",{className:e.available?"text-green-500":"text-red-500",children:e.available?"Available":"Not Available"})]},e.id))}):(0,r.jsx)("p",{className:"dark"===a?"text-gray-300":"text-gray-800",children:"None"})]}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-3 mt-4",children:[(0,r.jsx)("button",{onClick:()=>w(!k),className:"py-2 px-5 rounded-lg transition ".concat("dark"===a?"bg-green-600 hover:bg-green-700 text-white":"bg-green-500 hover:bg-green-600 text-white"),children:k?"View All Rooms":"View Filtered Rooms"}),(0,r.jsx)("button",{onClick:()=>d.back(),className:"py-2 px-5 rounded-lg transition ".concat("dark"===a?"bg-blue-600 hover:bg-blue-700 text-white":"bg-blue-500 hover:bg-blue-600 text-white"),children:"Go Back"})]})]}):(0,r.jsx)("div",{className:"flex justify-center items-center h-64 ".concat("dark"===a?"text-white":"text-gray-800"),children:(0,r.jsx)("div",{className:"text-lg font-medium",children:"Hotel not found"})})}function d(){return(0,r.jsx)(s.Suspense,{children:(0,r.jsx)(i,{})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[6766,8441,1684,7358],()=>t(3661)),_N_E=e.O()}]);