(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6427],{2710:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>h});var s=r(5155),a=r(2115),n=r(9292),i=r(5695),c=r(6874),l=r.n(c),d=r(6766),o=r(5550);function h(){let e=(0,i.useRouter)(),{theme:t}=(0,o.D)(),[r,c]=(0,a.useState)([]),[h,u]=(0,a.useState)(!0),[x,m]=(0,a.useState)("");return((0,a.useEffect)(()=>{(async()=>{try{let t=await (0,n.v$)("/api/hotel-owner/my-hotels",{method:"GET",credentials:"include"}),r=await t.json();if(!t.ok)throw 440===t.status&&e.push("/ui/error/session-expired"),Error(r.error);c(r.hotels)}catch(e){m(e.message||"An unexpected error occurred.")}finally{u(!1)}})()},[e]),h)?(0,s.jsx)("div",{className:"flex justify-center items-center h-64 ".concat("dark"===t?"text-white":"text-gray-800"),children:(0,s.jsx)("div",{className:"text-lg font-medium animate-pulse",children:"Loading hotels..."})}):x?(0,s.jsx)("div",{className:"flex justify-center items-center h-64 ".concat("dark"===t?"text-white":"text-gray-800"),children:(0,s.jsxs)("div",{className:"px-6 py-4 rounded-md shadow-md bg-white",children:[(0,s.jsx)("p",{className:"font-semibold text-red-500",children:"Error:"}),(0,s.jsx)("p",{className:"text-red-500",children:x}),(0,s.jsx)("button",{onClick:()=>e.back(),className:"hover:underline cursor-pointer mt-2 text-red-500",children:"Go Back"})]})}):(0,s.jsxs)("div",{className:"max-w-7xl mx-auto p-6 ".concat("dark"===t?"text-white":"text-gray-800"),children:[(0,s.jsx)("h2",{className:"text-3xl font-bold mb-4",children:"My Hotels"}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:Array.isArray(r)&&r.map(e=>(0,s.jsx)(l(),{href:"/ui/dashboard/my-hotels/".concat(e.id),children:(0,s.jsxs)("div",{className:"rounded-lg shadow-md p-4 cursor-pointer hover:shadow-lg transition flex flex-col items-center ".concat("dark"===t?"bg-gray-800":"bg-white"),children:[(0,s.jsx)(d.default,{src:e.logo||"/default-hotel-logo.png",alt:"".concat(e.name," Logo"),width:256,height:256,className:"w-32 h-32 object-cover mb-3"}),(0,s.jsx)("h3",{className:"text-lg font-bold ".concat("dark"===t?"text-white":"text-black"," truncate"),children:e.name}),(0,s.jsxs)("p",{className:"dark"===t?"text-gray-300":"text-gray-600",children:[e.starRating," Star"]})]})},e.id))})]})}},5550:(e,t,r)=>{"use strict";r.d(t,{D:()=>c,N:()=>i});var s=r(5155),a=r(2115);let n=(0,a.createContext)();function i(e){let{children:t}=e,[r,i]=(0,a.useState)("dark"),[c,l]=(0,a.useState)(!1);return((0,a.useEffect)(()=>{l(!0)},[]),c)?(0,s.jsx)(n.Provider,{value:{theme:r,toggleTheme:()=>{i("dark"===r?"light":"dark")}},children:t}):null}function c(){let e=(0,a.useContext)(n);if(void 0===e)throw Error("useTheme must be used within a ThemeProvider");return e}},7706:(e,t,r)=>{Promise.resolve().then(r.bind(r,2710))},9292:(e,t,r)=>{"use strict";r.d(t,{v$:()=>a}),r(8801),r(9980);var s=r(9509);async function a(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=await fetch(e,{...t,credentials:"include"});if(401===r.status||403===r.status){if(!await n())return new Response(JSON.stringify({message:"Session expired"}),{status:440,headers:{"Content-Type":"application/json"}});r=await fetch(e,{...t,credentials:"include"})}return r}s.env.ACCESS_SECRET,s.env.REFRESH_SECRET,s.env.ACCESS_TOKEN_EXPIRY,s.env.REFRESH_TOKEN_EXPIRY,parseInt(s.env.SALT_ROUNDS,10);async function n(){try{if(!(await fetch("/api/auth/refresh",{method:"POST",credentials:"include"})).ok)return!1;return!0}catch(e){return!1}}},9825:()=>{}},e=>{var t=t=>e(e.s=t);e.O(0,[9268,3877,6766,6874,8441,1684,7358],()=>t(7706)),_N_E=e.O()}]);