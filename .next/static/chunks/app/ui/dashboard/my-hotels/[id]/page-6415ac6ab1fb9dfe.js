(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6515],{4992:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});var r=a(5155),s=a(2115),l=a(5695),i=a(9292),c=a(6766),n=a(5550);function o(e){var t;let{params:a}=e,{id:o}=(0,l.useParams)(),d=(0,l.useRouter)(),{theme:h}=(0,n.D)(),[x,u]=(0,s.useState)(null),[m,g]=(0,s.useState)(null),[b,v]=(0,s.useState)(!0),[f,y]=(0,s.useState)("");return((0,s.useEffect)(()=>{(async()=>{try{let e=await (0,i.v$)("/api/hotel-owner/my-hotels/".concat(o),{method:"GET",credentials:"include"}),t=await e.json();if(!e.ok)throw 440===e.status&&d.push("/ui/error/session-expired"),Error(t.error);u(t.hotel),g(t.rooms)}catch(e){y(e.message||"An unexpected error occurred.")}finally{v(!1)}})()},[o,d]),b)?(0,r.jsx)("div",{className:"flex justify-center items-center h-64 ".concat("dark"===h?"text-white":"text-gray-800"),children:(0,r.jsx)("div",{className:"text-lg font-medium animate-pulse",children:"Loading..."})}):f?(0,r.jsx)("div",{className:"flex justify-center items-center h-64 ".concat("dark"===h?"text-white":"text-gray-800"),children:(0,r.jsxs)("div",{className:"px-6 py-4 rounded-md shadow-md ".concat("dark"===h?"bg-gray-800":"bg-white"),children:[(0,r.jsx)("p",{className:"font-semibold text-red-500",children:"Error:"}),(0,r.jsx)("p",{children:f}),(0,r.jsx)("button",{onClick:()=>d.back(),className:"hover:underline cursor-pointer mt-2 ".concat("dark"===h?"text-blue-400":"text-blue-600"),children:"Go Back"})]})}):x?(0,r.jsxs)("div",{className:"max-w-5xl mx-auto p-6 rounded-2xl shadow-lg space-y-6 ".concat("dark"===h?"bg-gray-800 text-white":"bg-white text-gray-800"),children:[(0,r.jsxs)("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-3xl font-bold ".concat("dark"===h?"text-white":"text-black"),children:x.name}),(0,r.jsxs)("p",{className:"text-lg ".concat("dark"===h?"text-gray-300":"text-gray-800"),children:[x.starRating," Star"]})]}),x.logo&&(0,r.jsx)(c.default,{src:x.logo,alt:"Hotel Logo",width:128,height:128,className:"w-32 h-32 object-cover rounded-xl border shadow-md ".concat("dark"===h?"border-gray-600":"border-gray-300")})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-xl font-semibold ".concat("dark"===h?"text-white":"text-black"),children:"Location"}),(0,r.jsx)("p",{className:"dark"===h?"text-gray-300":"text-gray-800",children:x.address}),(0,r.jsxs)("p",{className:"dark"===h?"text-gray-300":"text-gray-800",children:[x.city,", ",x.country]})]}),(null===(t=x.images)||void 0===t?void 0:t.length)>0&&(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-xl font-semibold ".concat("dark"===h?"text-white":"text-black"),children:"Photos"}),(0,r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mt-2",children:x.images.map((e,t)=>(0,r.jsx)(c.default,{src:e,alt:"Hotel Image ".concat(t+1),width:2880,height:1624,className:"w-full h-full object-cover rounded-lg shadow-sm"},t))})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-xl font-semibold mb-2 ".concat("dark"===h?"text-white":"text-black"),children:"Rooms"}),m.length>0?(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:m.map(e=>(0,r.jsxs)("div",{className:"p-4 border rounded-xl shadow-sm hover:shadow-md transition cursor-pointer ".concat("dark"===h?"bg-gray-700 border-gray-600 hover:bg-gray-600":"bg-gray-50 border-gray-200 hover:bg-white"),onClick:()=>d.push("/ui/dashboard/my-hotels/".concat(o,"/").concat(e.id)),children:[(0,r.jsxs)("h4",{className:"text-lg font-bold ".concat("dark"===h?"text-white":"text-black"),children:["ID ",e.id," - ",e.type]}),(0,r.jsxs)("p",{className:"dark"===h?"text-gray-300":"text-gray-800",children:["Price: ",(0,r.jsxs)("span",{className:"font-medium",children:["$",e.pricePerNight]})," / night"]}),(0,r.jsx)("p",{className:e.available?"text-green-500 font-medium":"text-red-500 font-medium",children:e.available?"Available":"Not Available"})]},e.id))}):(0,r.jsx)("p",{className:"dark"===h?"text-gray-400 italic":"text-gray-600 italic",children:"No rooms available."})]}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-3 mt-4",children:[(0,r.jsx)("button",{onClick:()=>d.push("/ui/dashboard/my-hotels/".concat(o,"/bookings")),className:"py-2 px-5 rounded-lg transition ".concat("dark"===h?"bg-yellow-600 hover:bg-yellow-700 text-white":"bg-yellow-500 hover:bg-yellow-600 text-white"),children:"Bookings"}),(0,r.jsx)("button",{onClick:()=>d.push("/ui/dashboard/my-hotels/".concat(o,"/add-room")),className:"py-2 px-5 rounded-lg transition ".concat("dark"===h?"bg-green-600 hover:bg-green-700 text-white":"bg-green-500 hover:bg-green-600 text-white"),children:"Add Room"}),(0,r.jsx)("button",{onClick:()=>d.back(),className:"py-2 px-5 rounded-lg transition ".concat("dark"===h?"bg-blue-600 hover:bg-blue-700 text-white":"bg-blue-500 hover:bg-blue-600 text-white"),children:"Go Back"})]})]}):(0,r.jsx)("div",{className:"flex justify-center items-center h-64 ".concat("dark"===h?"text-white":"text-gray-800"),children:(0,r.jsx)("div",{className:"text-lg font-medium",children:"Hotel not found"})})}},5436:(e,t,a)=>{Promise.resolve().then(a.bind(a,4992))},5550:(e,t,a)=>{"use strict";a.d(t,{D:()=>c,N:()=>i});var r=a(5155),s=a(2115);let l=(0,s.createContext)();function i(e){let{children:t}=e,[a,i]=(0,s.useState)("dark"),[c,n]=(0,s.useState)(!1);return((0,s.useEffect)(()=>{n(!0)},[]),c)?(0,r.jsx)(l.Provider,{value:{theme:a,toggleTheme:()=>{i("dark"===a?"light":"dark")}},children:t}):null}function c(){let e=(0,s.useContext)(l);if(void 0===e)throw Error("useTheme must be used within a ThemeProvider");return e}},9292:(e,t,a)=>{"use strict";a.d(t,{v$:()=>s}),a(8801),a(9980);var r=a(9509);async function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=await fetch(e,{...t,credentials:"include"});if(401===a.status||403===a.status){if(!await l())return new Response(JSON.stringify({message:"Session expired"}),{status:440,headers:{"Content-Type":"application/json"}});a=await fetch(e,{...t,credentials:"include"})}return a}r.env.ACCESS_SECRET,r.env.REFRESH_SECRET,r.env.ACCESS_TOKEN_EXPIRY,r.env.REFRESH_TOKEN_EXPIRY,parseInt(r.env.SALT_ROUNDS,10);async function l(){try{if(!(await fetch("/api/auth/refresh",{method:"POST",credentials:"include"})).ok)return!1;return!0}catch(e){return!1}}},9825:()=>{}},e=>{var t=t=>e(e.s=t);e.O(0,[9268,3877,6766,8441,1684,7358],()=>t(5436)),_N_E=e.O()}]);