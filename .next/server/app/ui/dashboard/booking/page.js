(()=>{var e={};e.id=6654,e.ids=[6654],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},24537:(e,t,r)=>{Promise.resolve().then(r.bind(r,97869))},26700:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>h,pages:()=>c,routeModule:()=>p,tree:()=>d});var s=r(65239),i=r(48088),n=r(88170),o=r.n(n),l=r(30893),a={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(a[e]=()=>l[e]);r.d(t,a);let d={children:["",{children:["ui",{children:["dashboard",{children:["booking",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,97869)),"/app/app/ui/dashboard/booking/page.js"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,13376)),"/app/app/ui/dashboard/layout.js"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,32648)),"/app/app/layout.js"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["/app/app/ui/dashboard/booking/page.js"],h={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:i.RouteKind.APP_PAGE,page:"/ui/dashboard/booking/page",pathname:"/ui/dashboard/booking",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},55511:e=>{"use strict";e.exports=require("crypto")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},79428:e=>{"use strict";e.exports=require("buffer")},79551:e=>{"use strict";e.exports=require("url")},93255:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var s=r(60687),i=r(43210),n=r(16189),o=r(21092);function l(){let e=(0,n.useRouter)(),{theme:t}=(0,o.D)(),[r,l]=(0,i.useState)(""),[a,d]=(0,i.useState)(!0),[c,h]=(0,i.useState)(null),p=localStorage.getItem("currentBookingId"),u=p?parseInt(p,10):null;return a?(0,s.jsx)("div",{className:`flex justify-center items-center h-64 ${"dark"===t?"text-white":"text-gray-800"}`,children:(0,s.jsx)("div",{className:"text-lg font-medium animate-pulse",children:"Loading..."})}):r?(0,s.jsx)("div",{className:`flex justify-center items-center h-64 ${"dark"===t?"text-white":"text-gray-800"}`,children:(0,s.jsxs)("div",{className:"px-6 py-4 rounded-md shadow-md bg-white",children:[(0,s.jsx)("p",{className:"font-semibold text-red-500",children:"Error:"}),(0,s.jsx)("p",{className:"text-red-500",children:r}),(0,s.jsx)("button",{onClick:()=>{localStorage.clear(),e.back()},className:"hover:underline cursor-pointer mt-2 text-red-500",children:"Go Back"})]})}):c?(0,s.jsxs)("div",{className:`p-5 text-center ${"dark"===t?"text-white":"text-gray-800"}`,children:[(0,s.jsxs)("h1",{className:"text-2xl font-bold mb-4",children:["Current Booking: ID ",u||"N/A"]}),(0,s.jsxs)("div",{className:"space-y-6",children:[c.flight&&(0,s.jsxs)("div",{className:"border-b pb-4",children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold mb-2",children:"Flight Details"}),Array.isArray(c.flight.flights)?c.flight.flights.map((e,t)=>(0,s.jsxs)("div",{className:"mb-4 p-4 rounded",children:[(0,s.jsx)("p",{children:(0,s.jsxs)("strong",{children:["Flight ",t+1,":"]})}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Flight Number:"})," ",e.flightNumber]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Airline:"})," ",e.airline]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"From:"})," ",e.origin]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"To:"})," ",e.destination]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Departure:"})," ",new Date(e.departureTime).toLocaleString()]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Arrival:"})," ",new Date(e.arrivalTime).toLocaleString()]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Status:"})," ",e.status]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Price:"})," $",e.price]})]},t)):(0,s.jsxs)("div",{className:"p-4 rounded",children:[(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Flight Number:"})," ",c.flight.flightNumber]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Airline:"})," ",c.flight.airline]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"From:"})," ",c.flight.origin]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"To:"})," ",c.flight.destination]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Departure:"})," ",new Date(c.flight.departureTime).toLocaleString()]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Arrival:"})," ",new Date(c.flight.arrivalTime).toLocaleString()]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Status:"})," ",c.flight.status]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Price:"})," $",c.flight.price]})]})]}),c.hotel&&(0,s.jsxs)("div",{className:"border-b pb-4",children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold mb-2",children:"Hotel Details"}),(0,s.jsxs)("div",{className:"p-4 rounded",children:[(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Hotel:"})," ",c.hotel.name]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Location:"})," ",c.hotel.city]}),c.booking.checkIn&&(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Check-in:"})," ",new Date(c.booking.checkIn).toLocaleDateString()]}),c.booking.checkOut&&(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Check-out:"})," ",new Date(c.booking.checkOut).toLocaleDateString()]}),c.room.type&&(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Room Type:"})," ",c.room.type]}),c.room.pricePerNight&&(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Room Type:"})," ",c.room.pricePerNight]}),c.nightsStayed&&(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Nights Stayed:"})," ",c.nightsStayed]})]})]}),(0,s.jsx)("div",{className:"pt-4 pb-4",children:(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("p",{className:"text-2xl font-semibold",children:"Total Amount"}),(0,s.jsxs)("p",{className:"text-xl font-bold",children:["$",c.price?c.price:0]})]})})]}),u&&(0,s.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 w-full max-w-4xl mx-auto",children:[(0,s.jsx)("button",{onClick:()=>{c.hotel?e.push(`/ui/dashboard/flights?location=${encodeURIComponent(c.hotel.city)}`):e.push("/ui/dashboard/flights")},className:"w-full h-14 bg-blue-600 text-white font-medium rounded-xl hover:bg-blue-700 transition-colors shadow-sm",children:"Flight Suggestions"}),(0,s.jsx)("button",{onClick:()=>{if(c.mainDestination){let t=new URLSearchParams;t.append("city",c.mainDestination),e.push(`/ui/dashboard/all-hotels?${t.toString()}`)}else e.push("/ui/dashboard/all-hotels")},className:"w-full h-14 bg-yellow-500 text-white font-medium rounded-xl hover:bg-yellow-600 transition-colors shadow-sm",children:"Hotel Suggestions"}),(0,s.jsx)("button",{onClick:()=>{localStorage.clear(),u=null,h(null)},className:"w-full h-14 bg-red-600 text-white font-medium rounded-xl hover:bg-red-700 transition-colors shadow-sm",children:"Stop Booking"}),(0,s.jsx)("button",{onClick:()=>{e.push(`/ui/dashboard/checkout?bookingId=${u}`)},className:"w-full h-14 bg-green-600 text-white font-semibold rounded-xl hover:bg-green-700 transition-colors shadow-md",children:"Checkout"})]})]}):(0,s.jsx)("div",{className:`flex justify-center items-center h-64 ${"dark"===t?"text-white":"text-gray-800"}`,children:(0,s.jsx)("div",{className:"text-lg font-medium",children:"No booking in progress"})})}r(62844)},95161:(e,t,r)=>{Promise.resolve().then(r.bind(r,93255))},97869:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/app/app/ui/dashboard/booking/page.js\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/app/app/ui/dashboard/booking/page.js","default")}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[7719,1179,1658,2142,1026],()=>r(26700));module.exports=s})();