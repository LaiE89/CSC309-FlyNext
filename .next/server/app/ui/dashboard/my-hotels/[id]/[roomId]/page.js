(()=>{var e={};e.id=686,e.ids=[686],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},14620:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>h,pages:()=>c,routeModule:()=>u,tree:()=>n});var s=r(65239),a=r(48088),i=r(88170),o=r.n(i),l=r(30893),d={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>l[e]);r.d(t,d);let n={children:["",{children:["ui",{children:["dashboard",{children:["my-hotels",{children:["[id]",{children:["[roomId]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,49157)),"/app/app/ui/dashboard/my-hotels/[id]/[roomId]/page.js"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,13376)),"/app/app/ui/dashboard/layout.js"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,32648)),"/app/app/layout.js"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["/app/app/ui/dashboard/my-hotels/[id]/[roomId]/page.js"],h={require:r,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/ui/dashboard/my-hotels/[id]/[roomId]/page",pathname:"/ui/dashboard/my-hotels/[id]/[roomId]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:n}})},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},36595:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});var s=r(60687),a=r(43210),i=r(16189),o=r(62844),l=r(30474),d=r(21092);function n(){let{id:e,roomId:t}=(0,i.useParams)(),r=(0,i.useRouter)(),{theme:n}=(0,d.D)(),[c,h]=(0,a.useState)(null),[u,p]=(0,a.useState)(!0),[m,x]=(0,a.useState)(""),[b,g]=(0,a.useState)(""),[v,y]=(0,a.useState)(!1),f=async s=>{p(!0),x(""),g("");try{let s=await (0,o.v$)(`/api/hotel-owner/my-hotels/${e}/${t}/edit`,{method:"PATCH",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({available:!c.available})}),a=await s.json();if(!s.ok)throw 440===s.status&&r.push("/ui/error/session-expired"),Error(a.error);h(a.room),a.room.available?g("Availability Successfully Edited!"):g("Availability Successfully Edited! Bookings related to this room have been deleted.")}catch(e){x(e.message||"An unexpected error occurred.")}finally{p(!1)}},j=async s=>{p(!0),x(""),g("");try{let s=await (0,o.v$)(`/api/hotel-owner/my-hotels/${e}/${t}/edit`,{method:"DELETE",credentials:"include"}),a=await s.json();if(!s.ok)throw 440===s.status&&r.push("/ui/error/session-expired"),Error(a.error);h(a.room),y(!0),g("Room has been deleted! Bookings related to this room have been deleted.")}catch(e){x(e.message||"An unexpected error occurred.")}finally{p(!1)}};return u?(0,s.jsx)("div",{className:`flex justify-center items-center h-64 ${"dark"===n?"text-white":"text-gray-800"}`,children:(0,s.jsx)("div",{className:"text-lg font-medium animate-pulse",children:"Loading..."})}):m?(0,s.jsx)("div",{className:`flex justify-center items-center h-64 ${"dark"===n?"text-white":"text-gray-800"}`,children:(0,s.jsxs)("div",{className:"px-6 py-4 rounded-md shadow-md bg-white",children:[(0,s.jsx)("p",{className:"font-semibold text-red-500",children:"Error:"}),(0,s.jsx)("p",{className:"text-red-500",children:m}),(0,s.jsx)("button",{onClick:()=>r.back(),className:"hover:underline cursor-pointer mt-2 text-red-500",children:"Go Back"})]})}):c?(0,s.jsxs)("div",{className:`max-w-5xl mx-auto p-6 rounded-2xl shadow-lg space-y-6 ${"dark"===n?"bg-gray-800 text-white":"bg-white text-gray-800"}`,children:[(0,s.jsx)("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:`text-3xl font-bold ${"dark"===n?"text-white":"text-black"}`,children:c.type}),(0,s.jsx)("p",{className:`text-lg font-medium ${c.available?"text-green-500":"text-red-500"}`,children:c.available?"Available":"Not Available"}),(0,s.jsxs)("p",{className:`text-lg mt-1 ${"dark"===n?"text-gray-300":"text-gray-800"}`,children:[(0,s.jsxs)("span",{className:"font-semibold",children:["$",c.pricePerNight]})," / night"]})]})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:`text-xl font-semibold mb-2 ${"dark"===n?"text-white":"text-black"}`,children:"Amenities"}),(0,s.jsx)("ul",{className:`grid grid-cols-1 gap-2 text-sm ${"dark"===n?"text-gray-300":"text-gray-800"}`,children:c.amenities.map((e,t)=>(0,s.jsxs)("li",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{children:"â€¢"})," ",e]},t))})]}),c.images?.length>0&&(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:`text-xl font-semibold mb-2 ${"dark"===n?"text-white":"text-gray-800"}`,children:"Photos"}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:c.images.map((e,t)=>(0,s.jsx)(l.default,{src:e,alt:`Room Image ${t+1}`,width:2880,height:1624,className:"w-full h-full object-cover rounded-lg shadow-sm"},t))})]}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-3 mt-4",children:[(0,s.jsx)("button",{onClick:f,disabled:v,className:`py-2 px-5 rounded-lg transition ${v?"opacity-50 cursor-not-allowed":"dark"===n?"bg-yellow-600 hover:bg-yellow-700 text-white":"bg-yellow-500 hover:bg-yellow-600 text-white"}`,children:"Change Availability"}),(0,s.jsx)("button",{onClick:j,disabled:v,className:`py-2 px-5 rounded-lg transition ${v?"opacity-50 cursor-not-allowed":"dark"===n?"bg-red-600 hover:bg-red-700 text-white":"bg-red-500 hover:bg-red-600 text-white"}`,children:"Delete"}),(0,s.jsx)("button",{onClick:()=>r.back(),className:`py-2 px-5 rounded-lg transition ${"dark"===n?"bg-blue-600 hover:bg-blue-700 text-white":"bg-blue-500 hover:bg-blue-600 text-white"}`,children:"Go Back"})]}),b&&(0,s.jsx)("div",{className:`p-4 rounded-lg ${"dark"===n?"bg-green-900/50":"bg-green-100"}`,children:(0,s.jsx)("p",{className:"text-green-500",children:b})})]}):(0,s.jsx)("div",{className:`flex justify-center items-center h-64 ${"dark"===n?"text-white":"text-gray-800"}`,children:(0,s.jsx)("div",{className:"text-lg font-medium",children:"Room not found"})})}},41997:(e,t,r)=>{Promise.resolve().then(r.bind(r,36595))},49157:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/app/app/ui/dashboard/my-hotels/[id]/[roomId]/page.js\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/app/app/ui/dashboard/my-hotels/[id]/[roomId]/page.js","default")},55511:e=>{"use strict";e.exports=require("crypto")},60557:(e,t,r)=>{Promise.resolve().then(r.bind(r,49157))},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},79428:e=>{"use strict";e.exports=require("buffer")},79551:e=>{"use strict";e.exports=require("url")}};var t=require("../../../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[7719,1179,1658,2142,1026],()=>r(14620));module.exports=s})();